# 防范恶意攻击

##### 一、常见方法

1. 定义公共请求头规范，加入签名，时间戳，客户端id和secret等
2. 请求头加入时间戳，校验请求时间
3. 使用POST请求
4. 采用https协议
5. 检查请求来源，http host和referer，ip，白名单等
6. 防止请求错误的url
7. 接口限流
8. 合理设置cookie和session过期时间
9. 不允许cookie跨域
10. 验证码
11. 防止密码暴力破解
12. 请求加入签名
13. 返回数据加密：RSA+AES组合

##### 二、常见加密

1. RSA加签
   1. 私钥加签，公钥验签
2. RSA加密
   1. 公钥加密，私钥解密
   2. RSA加密的内容较短，所以大量数据加密时使用AES加密
3. AES加密
   1. ECB加密模式：相同的明文块会被加密成相同的密文块，即如果加密内容重复，有可能导致密文出现重复；需要填充明文
   2. CBC加密模式：比ECB模式更安全，密文不会重复；增加向量；加密数据量大；需要填充明文
   3. CFB加密模式：适合对流数据的加密
   4. OFB加密模式：适合对流数据的加密
4. MD5加密
   1. 不可逆，适合密码加密

##### 三、其他