# redis缓存

##### 一、缓存使用

当访问量大的时候，为了减少数据库压力，缓存是一个很好的选择，使用缓存的时候有几点需要注意

##### 二、缓存雪崩

1. 指大量缓存数据设置了同一过期时间，在key失效的时候大量请求落在数据库
2. 解决方法：
   1. 设置key的失效时间的时候不要太过集中，加上随机的1-5分钟
   2. 不设置过期时间

##### 三、缓存穿透

1. 指检索条件不存在在缓存里面，导致请求都落到了数据库
2. 解决方法：
   1. 增加各类校验：签名，参数校验等
   2. 布隆过滤器：建一个bit数组，每一位都默认设置为0；当存入某个值的时候，计算其多个散列值并存入bit数组，散列值对应的比特位设置为1。在判断过滤器是否存在该值的时候，先计算其多个散列值，并判断所有散列值对应的比特位是否都为1，如果存在0则肯定不存在在过滤器里面，为1则可能存在过滤器里面。使用布隆过滤器的时候，bit数组的大小，以及散列值数量，hash算法都需要选择最优。

##### 四、缓存击穿

1. 指某一个缓存请求量大，在其失效的时候，大量请求落到数据库
2. 解决方法：热点数据不过期或者选择访问量小的时候过期

